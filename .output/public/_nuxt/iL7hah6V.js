import{e as Pe,f as Ce,r as k,j as _e,D as be,c as E,a as n,d as K,p as M,v as S,t as O,C as ie,F as se,l as oe,s as Ie,k as W,E as Ae,g as De,o as P,n as ue}from"./CeYHdBDP.js";import{G as re}from"./DQ3TTau0.js";import{_ as Le}from"./DlAUqK2U.js";const Re={class:"editor-page"},Ue={class:"editor-header glass-panel"},Ne={class:"left"},Be={class:"map-meta"},Ve={class:"creator"},Ye={class:"center"},We={class:"transport-controls"},Xe={class:"right"},Fe={class:"config-summary"},$e={class:"stat"},Ge={class:"stat"},He={class:"main-layout"},Je={class:"sidebar left-sidebar glass-panel"},ze={class:"object-list"},Ke=["onClick"],Ze={class:"symbol"},qe={class:"name"},Qe=["onClick"],je={class:"symbol"},et={class:"name"},tt={class:"grid-info"},lt={class:"timeline-container"},at=["max"],nt={class:"sidebar right-sidebar glass-panel"},it={key:0,class:"properties-list"},st={class:"prop-group"},ot={class:"prop-val-static"},ut={class:"prop-group"},rt={class:"input-pair"},dt={class:"prop-group"},vt={class:"input-pair"},ht={key:0,class:"prop-group"},ft={class:"rotation-controls"},ct={key:1,class:"prop-group"},pt={key:1,class:"movement-details"},mt={key:1,class:"properties-list"},gt={class:"prop-group"},yt={class:"prop-val-static"},wt={key:2,class:"empty-selection"},xt={class:"global-settings prop-group"},Mt={class:"audio-settings prop-group"},kt={class:"audio-upload"},St={key:0,class:"audio-hint"},Tt=Pe({__name:"editor",setup(Ot){const Z=De(),{user:q}=Ce(),V=new re,u=k({title:"NEW UNTITLED MAP",duration:60,difficulty:10,engineObstacles:[],enginePortals:[],beatTimes:[],sections:[],seed:0,bpm:120,measureLength:2}),X=k(60*350+500),c=k(0),p=k(1),s=k([]),Y=k("spike"),de=k(null),y=k(null),Q=k(null),H=["spike","block","saw","mini_spike","laser","spike_ball","v_laser","mine","orb"],ve=["gravity_yellow","gravity_blue","speed_0.25","speed_0.5","speed_1","speed_2","speed_3","speed_4","mini_pink","mini_green"],he=e=>V.getPortalSymbol(e)||"â– ",fe=e=>V.getPortalSymbol(e),_=k([]),b=k(-1),R=k([]),L=k(!1),U=k(!1),g=k({x1:0,y1:0,x2:0,y2:0}),N=()=>{const e=JSON.stringify(u.value);_.value[b.value]!==e&&(_.value=_.value.slice(0,b.value+1),_.value.push(e),_.value.length>50?_.value.shift():b.value++)},ce=()=>{b.value>0&&(b.value--,u.value=JSON.parse(_.value[b.value]))},pe=()=>{b.value<_.value.length-1&&(b.value++,u.value=JSON.parse(_.value[b.value]))};let J=!1,F=!1,$=!1,B="",j=0,ee=0,z=new Map;const me=(e,t,a)=>{const o=10/p.value;return Math.abs(e-a.x)<o&&Math.abs(t-a.y)<o?"tl":Math.abs(e-(a.x+a.width))<o&&Math.abs(t-a.y)<o?"tr":Math.abs(e-a.x)<o&&Math.abs(t-(a.y+a.height))<o?"bl":Math.abs(e-(a.x+a.width))<o&&Math.abs(t-(a.y+a.height))<o?"br":null},ge=e=>{if(e.button===1){J=!0,j=e.clientX,ee=c.value,e.preventDefault();return}if(e.button===2){if(!y.value)return;U.value=!0;const l=y.value.getBoundingClientRect(),i=y.value.width/l.width,r=y.value.height/l.height,d=(e.clientX-l.left)*i/p.value+c.value,I=(e.clientY-l.top)*r/p.value;g.value={x1:d,y1:I,x2:d,y2:I},e.preventDefault();return}if(e.button!==0||!y.value)return;const t=y.value.getBoundingClientRect(),a=y.value.width/t.width,o=y.value.height/t.height;let v=(e.clientX-t.left)*a/p.value+c.value,f=(e.clientY-t.top)*o/p.value;if(L.value&&(v=Math.round(v/25)*25,f=Math.round(f/25)*25),s.value.length===1){const l=me(v,f,s.value[0]);if(l){$=!0,B=l;return}}const h=Me(v,f);if(h){if(L.value){const l=s.value.indexOf(h);l===-1?s.value.push(h):s.value.splice(l,1)}else s.value.includes(h)||(s.value=[h]);s.value.includes(h)&&(F=!0,z.clear(),s.value.forEach(l=>{z.set(l,{x:l.x-v,y:l.y-f})}))}else L.value||(s.value=[]),ke(v,f),N()},ye=e=>{if(!y.value)return;const t=y.value.getBoundingClientRect(),a=y.value.width/t.width,o=y.value.height/t.height;let v=(e.clientX-t.left)*a/p.value+c.value,f=(e.clientY-t.top)*o/p.value;const h=v,l=f;if(L.value&&!U.value&&(v=Math.round(v/25)*25,f=Math.round(f/25)*25),J){const i=e.clientX-j;c.value=Math.max(0,ee-i/p.value)}else if(U.value)g.value.x2=h,g.value.y2=l;else if($&&s.value.length===1){const i=s.value[0];if(B==="br")i.width=Math.max(10,v-i.x),i.height=Math.max(10,f-i.y);else if(B==="bl"){const r=i.x+i.width;i.x=Math.min(r-10,v),i.width=r-i.x,i.height=Math.max(10,f-i.y)}else if(B==="tr"){const r=i.y+i.height;i.y=Math.min(r-10,f),i.height=r-i.y,i.width=Math.max(10,v-i.x)}else if(B==="tl"){const r=i.x+i.width,d=i.y+i.height;i.x=Math.min(r-10,v),i.y=Math.min(d-10,f),i.width=r-i.x,i.height=d-i.y}}else F&&s.value.forEach(i=>{const r=z.get(i);if(r){let d=h+r.x,I=l+r.y;L.value&&(d=Math.round(d/25)*25,I=Math.round(I/25)*25),i.x=d,i.y=I,"initialY"in i&&(i.initialY=I)}})},we=()=>{if(U.value){const e=Math.min(g.value.x1,g.value.x2),t=Math.max(g.value.x1,g.value.x2),a=Math.min(g.value.y1,g.value.y2),o=Math.max(g.value.y1,g.value.y2),v=h=>{const l=h.x,i=h.x+h.width,r=h.y,d=h.y+h.height;return!(i<e||l>t||d<a||r>o)},f=[...u.value.engineObstacles.filter(v),...u.value.enginePortals.filter(v)];s.value=f,U.value=!1}else(F||$)&&N();J=!1,F=!1,$=!1,B=""},xe=e=>{if(e.ctrlKey){e.preventDefault();const t=e.deltaY>0?.9:1.1;p.value=Math.max(.1,Math.min(5,p.value*t))}else c.value=Math.max(0,c.value+e.deltaY)},Me=(e,t)=>{for(const a of u.value.engineObstacles)if(e>=a.x&&e<=a.x+a.width&&t>=a.y&&t<=a.y+a.height)return a;for(const a of u.value.enginePortals)if(e>=a.x&&e<=a.x+a.width&&t>=a.y&&t<=a.y+a.height)return a;return null},ke=(e,t)=>{const a=Y.value;if(H.includes(a)){const o={x:e,y:t-25,width:50,height:50,type:a,angle:0,initialY:t-25,movement:{type:"none",range:0,speed:0,phase:0}};u.value.engineObstacles.push(o),s.value=[o]}else{const o={x:e,y:t-30,width:60,height:80,type:a,activated:!1};u.value.enginePortals.push(o),s.value=[o]}},G=()=>{s.value.length!==0&&(u.value.engineObstacles=u.value.engineObstacles.filter(e=>!s.value.includes(e)),u.value.enginePortals=u.value.enginePortals.filter(e=>!s.value.includes(e)),s.value=[],N())},te=()=>{X.value=u.value.duration*350+500},Se=()=>Q.value?.click(),Te=e=>{const t=e.target.files?.[0];if(!t)return;const a=new FileReader;a.onload=o=>{u.value.audioData=o.target?.result,u.value.audioUrl=`/audio/${t.name}`,(!u.value.title||u.value.title==="NEW UNTITLED MAP")&&(u.value.title=t.name.split(".")[0]),alert("Audio file loaded and embedded!")},a.readAsDataURL(t)},Oe=async()=>{const e=new re;e.obstacles=[...u.value.engineObstacles],e.portals=[...u.value.enginePortals],e.totalLength=X.value;const t=await e.computeAutoplayLogAsync(200,360,()=>{});u.value.autoplayLog=e.autoplayLog,!(!t&&!confirm("AI cannot finish this map! Play anyway?"))&&(sessionStorage.setItem("umm_edit_map",JSON.stringify(u.value)),sessionStorage.setItem("umm_is_test","true"),sessionStorage.setItem("umm_load_map",JSON.stringify(u.value)),Z.push("/play"))},Ee=async()=>{try{const e=!u.value._id,t=e?"/api/maps":`/api/maps/${u.value._id}`,a=e?"POST":"PATCH";e&&(u.value.creatorName=q.value?.username||"Guest");const o=4*1024*1024,v=u.value.audioData;if(v&&v.length>o){const f=[];for(let r=0;r<v.length;r+=o)f.push(v.substring(r,r+o));const h={...u.value,audioData:null,audioChunks:[]},i=(await $fetch(t,{method:a,body:h}))._id;e&&(u.value._id=i);for(let r=0;r<f.length;r++)await $fetch(`/api/maps/${i}/audio-chunk`,{method:"POST",body:{chunkIndex:r,chunkData:f[r],totalChunks:f.length}});alert(`Map saved! (Audio: ${f.length} chunks)`)}else{const f=await $fetch(t,{method:a,body:u.value});e&&(u.value._id=f._id),alert("Map saved successfully!")}}catch(e){console.error("Save error:",e),alert(`Failed to save map: ${e.message||"Unknown error"}`)}};let le;const ae=()=>{if(!y.value)return;const e=y.value.getContext("2d");if(!e)return;const t=y.value.width,a=y.value.height,o=performance.now()/1e3;e.clearRect(0,0,t,a),e.fillStyle="#050510",e.fillRect(0,0,t,a),e.save(),e.scale(p.value,p.value),e.translate(-c.value,0),e.strokeStyle="rgba(255, 255, 255, 0.05)";const v=50,f=Math.floor(c.value/v)*v;for(let l=f;l<c.value+t/p.value;l+=v)e.beginPath(),e.moveTo(l,0),e.lineTo(l,a/p.value),e.stroke();for(let l=0;l<a/p.value;l+=v)e.beginPath(),e.moveTo(c.value,l),e.lineTo(c.value+t/p.value,l),e.stroke();e.fillStyle="rgba(255, 0, 0, 0.1)",e.fillRect(c.value,0,t/p.value,140),e.fillRect(c.value,580,t/p.value,a/p.value-580),e.strokeStyle="#ff3333",e.lineWidth=3,e.beginPath(),e.moveTo(c.value,140),e.lineTo(c.value+t/p.value,140),e.stroke(),e.beginPath(),e.moveTo(c.value,580),e.lineTo(c.value+t/p.value,580),e.stroke(),e.fillStyle="#ff3333",e.font="bold 12px Outfit",e.fillText("CEILING BOUNDARY",c.value+10,130),e.fillText("FLOOR BOUNDARY",c.value+10,575),u.value.enginePortals.forEach(l=>{const i=V.getPortalColor(l.type);e.save(),e.fillStyle=i,e.shadowBlur=15,e.shadowColor=i,e.globalAlpha=.2,e.fillRect(l.x,l.y,l.width,l.height),e.globalAlpha=1,e.strokeStyle="#fff",e.lineWidth=2,e.strokeRect(l.x,l.y,l.width,l.height),e.fillStyle="#fff",e.font="bold 20px Outfit",e.textAlign="center",e.fillText(V.getPortalSymbol(l.type),l.x+l.width/2,l.y+l.height/2+8),e.restore(),s.value.includes(l)&&(e.strokeStyle="#00ffff",e.lineWidth=3,e.strokeRect(l.x-5,l.y-5,l.width+10,l.height+10))}),u.value.engineObstacles.forEach(l=>{e.save(),l.movement&&l.movement.type==="updown"&&(e.strokeStyle="rgba(0, 255, 255, 0.1)",e.beginPath(),e.moveTo(l.x+l.width/2,(l.initialY||l.y)-l.movement.range),e.lineTo(l.x+l.width/2,(l.initialY||l.y)+l.movement.range),e.stroke());const i=V.getObstacleStateAt(l,o),r=l.x,d=i.y,I=i.angle;if(l.type==="spike"||l.type==="mini_spike")e.fillStyle="#ff4d4d",e.shadowBlur=10,e.shadowColor="#ff0000",e.beginPath(),d>300?(e.moveTo(r,d+l.height),e.lineTo(r+l.width/2,d),e.lineTo(r+l.width,d+l.height)):(e.moveTo(r,d),e.lineTo(r+l.width/2,d+l.height),e.lineTo(r+l.width,d)),e.closePath(),e.fill();else if(l.type==="block")e.save(),e.translate(r+l.width/2,d+l.height/2),e.rotate(I*Math.PI/180),e.translate(-(r+l.width/2),-(d+l.height/2)),e.fillStyle="#444",e.shadowBlur=5,e.shadowColor="#666",e.fillRect(r,d,l.width,l.height),e.fillStyle="#555",e.fillRect(r+2,d+2,l.width-4,l.height-4),e.restore();else if(l.type==="saw"){const w=r+l.width/2,x=d+l.height/2,m=l.width/2;e.fillStyle="#ffaa00",e.shadowBlur=20,e.shadowColor="#ffaa00",e.beginPath(),e.arc(w,x,m,0,Math.PI*2),e.fill(),e.fillStyle="#ff6600";const T=10,A=o*8;for(let C=0;C<T;C++){const D=Math.PI*2*C/T+A;e.beginPath(),l.movement?.type,e.arc(w+Math.cos(D)*m*.75,x+Math.sin(D)*m*.75,m*.15,0,Math.PI*2),e.fill()}}else if(l.type==="spike_ball"){const w=r+l.width/2,x=d+l.height/2,m=l.width/2,T=o*3;e.fillStyle="#444";for(let C=0;C<8;C++){const D=Math.PI*2*C/8+T;e.beginPath(),e.moveTo(w+Math.cos(D-.2)*m*.8,x+Math.sin(D-.2)*m*.8),e.lineTo(w+Math.cos(D)*m*1.2,x+Math.sin(D)*m*1.2),e.lineTo(w+Math.cos(D+.2)*m*.8,x+Math.sin(D+.2)*m*.8),e.fill()}const A=e.createRadialGradient(w-m*.3,x-m*.3,m*.1,w,x,m);A.addColorStop(0,"#888"),A.addColorStop(1,"#222"),e.fillStyle=A,e.beginPath(),e.arc(w,x,m*.8,0,Math.PI*2),e.fill()}else if(l.type==="laser"||l.type==="v_laser"){const w=l.type==="v_laser",x=Math.sin(o*15)*5+10;e.strokeStyle="#ff3333",e.lineWidth=2,e.shadowBlur=Math.max(0,x),e.shadowColor="#ff0000",e.beginPath(),w?(e.moveTo(r+l.width/2,d),e.lineTo(r+l.width/2,d+l.height)):(e.moveTo(r,d+l.height/2),e.lineTo(r+l.width,d+l.height/2)),e.stroke(),e.strokeStyle="#fff",e.lineWidth=1,e.shadowBlur=0,e.stroke()}else if(l.type==="mine"){const w=r+l.width/2,x=d+l.height/2,m=l.width/2,T=Math.sin(o*10)*.1+.9;e.fillStyle="#ff3333",e.shadowBlur=10,e.shadowColor="#ff0000",e.beginPath();for(let A=0;A<6;A++){const C=Math.PI/3*A+o*2;e.lineTo(w+Math.cos(C)*m*T,x+Math.sin(C)*m*T)}e.closePath(),e.fill()}else if(l.type==="orb"){const w=r+l.width/2,x=d+l.height/2,m=l.width/2*(Math.sin(o*5)*.1+1),T=e.createRadialGradient(w,x,m*.1,w,x,m);T.addColorStop(0,"#fff"),T.addColorStop(.4,"#aa44ff"),T.addColorStop(1,"rgba(68,0,204,0)"),e.fillStyle=T,e.globalCompositeOperation="lighter",e.beginPath(),e.arc(w,x,m,0,Math.PI*2),e.fill(),e.globalCompositeOperation="source-over"}e.restore()});const h=X.value;if(e.strokeStyle="#00ff88",e.lineWidth=8,e.setLineDash([15,10]),e.beginPath(),e.moveTo(h,0),e.lineTo(h,a/p.value),e.stroke(),e.setLineDash([]),e.fillStyle="#00ff88",e.font="900 32px Outfit",e.textAlign="center",e.fillText("FINISH LINE",h,100),e.textAlign="left",s.value.forEach(l=>{if(e.save(),e.strokeStyle="#00ffff",e.lineWidth=2,e.setLineDash([5,5]),e.strokeRect(l.x,l.y,l.width,l.height),e.setLineDash([]),s.value.length===1){e.fillStyle="#fff";const i=6/p.value;e.fillRect(l.x-i,l.y-i,i*2,i*2),e.fillRect(l.x+l.width-i,l.y-i,i*2,i*2),e.fillRect(l.x-i,l.y+l.height-i,i*2,i*2),e.fillRect(l.x+l.width-i,l.y+l.height-i,i*2,i*2)}e.restore()}),U.value){e.fillStyle="rgba(0, 255, 255, 0.1)",e.strokeStyle="#00ffff",e.lineWidth=1;const l=Math.min(g.value.x1,g.value.x2),i=Math.min(g.value.y1,g.value.y2),r=Math.abs(g.value.x2-g.value.x1),d=Math.abs(g.value.y2-g.value.y1);e.fillRect(l,i,r,d),e.strokeRect(l,i,r,d)}e.restore(),le=requestAnimationFrame(ae)},ne=e=>{s.value.forEach(t=>{"angle"in t&&(t.angle=(t.angle||0)+e,t.angle<0&&(t.angle+=360),t.angle>=360&&(t.angle-=360))}),N()};return _e(()=>{const e=sessionStorage.getItem("umm_edit_map");e&&(u.value=JSON.parse(e),sessionStorage.removeItem("umm_edit_map"),te()),N(),ae();const t=o=>{if(!(o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement||o.target instanceof HTMLSelectElement))if(o.key==="Shift"&&(L.value=!0),o.ctrlKey||o.metaKey)if(o.key==="c")s.value.length>0&&(R.value=s.value.map(v=>({...v,_id:void 0})));else if(o.key==="x")s.value.length>0&&(R.value=s.value.map(v=>({...v,_id:void 0})),G());else if(o.key==="v"){if(R.value.length>0){const v=Math.min(...R.value.map(h=>h.x));Math.min(...R.value.map(h=>h.y));const f=R.value.map(h=>{const l={...h,x:c.value+(h.x-v)+100,y:h.y};return H.includes(l.type)?u.value.engineObstacles.push(l):u.value.enginePortals.push(l),l});s.value=f,N()}}else o.key==="z"?ce():o.key==="y"&&pe();else(o.key==="Delete"||o.key==="Backspace")&&s.value.length>0&&G()},a=o=>{o.key==="Shift"&&(L.value=!1)};window.addEventListener("keydown",t),window.addEventListener("keyup",a),be(()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",a),cancelAnimationFrame(le)})}),(e,t)=>(P(),E("div",Re,[t[43]||(t[43]=n("div",{class:"background-anim"},null,-1)),n("header",Ue,[n("div",Ne,[t[20]||(t[20]=n("h1",{class:"title"},[K("MAP_ARCHITECT "),n("span",{class:"version"},"v2.0")],-1)),n("div",Be,[M(n("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>u.value.title=a),placeholder:"Map Title",class:"map-title-input"},null,512),[[S,u.value.title]]),n("span",Ve,"BY: "+O(ie(q)?.username||"Guest"),1)])]),n("div",Ye,[n("div",We,[n("button",{onClick:Oe,class:"control-btn test"},[...t[21]||(t[21]=[n("span",{class:"icon"},"â–¶",-1),K(" TEST ",-1)])]),n("button",{onClick:Ee,class:"control-btn save"},[...t[22]||(t[22]=[n("span",{class:"icon"},"ðŸ’¾",-1),K(" SAVE ",-1)])]),n("button",{onClick:t[1]||(t[1]=a=>ie(Z).push("/maps")),class:"control-btn exit"},"EXIT")])]),n("div",Xe,[n("div",Fe,[n("span",$e,"OBJ: "+O(u.value.engineObstacles.length),1),n("span",Ge,"PORT: "+O(u.value.enginePortals.length),1)])])]),n("div",He,[n("aside",Je,[t[24]||(t[24]=n("h3",null,"PALETTE",-1)),n("div",ze,[(P(),E(se,null,oe(H,a=>n("div",{key:a,class:ue(["palette-item",{selected:Y.value===a}]),onClick:o=>Y.value=a},[n("div",Ze,O(he(a)),1),n("span",qe,O(a.split("_").join(" ").toUpperCase()),1)],10,Ke)),64)),t[23]||(t[23]=n("div",{class:"separator"},"PORTALS",-1)),(P(),E(se,null,oe(ve,a=>n("div",{key:a,class:ue(["palette-item portal",{selected:Y.value===a}]),onClick:o=>Y.value=a},[n("div",je,O(fe(a)),1),n("span",et,O(a.split("_").join(" ").toUpperCase()),1)],10,Qe)),64))])]),n("main",{class:"workspace glass-panel",ref_key:"workspaceRef",ref:de,onMousedown:ge,onMousemove:ye,onMouseup:we,onWheel:xe,onContextmenu:t[3]||(t[3]=Ie(()=>{},["prevent"]))},[n("canvas",{ref_key:"canvasRef",ref:y,width:"1200",height:"600",class:"editor-canvas"},null,512),n("div",tt,[n("span",null,"ZOOM: "+O((p.value*100).toFixed(0))+"%",1),n("span",null,"X: "+O(Math.floor(c.value)),1)]),n("div",lt,[M(n("input",{type:"range",min:"0",max:X.value,"onUpdate:modelValue":t[2]||(t[2]=a=>c.value=a),class:"timeline-slider"},null,8,at),[[S,c.value,void 0,{number:!0}]])])],544),n("aside",nt,[t[42]||(t[42]=n("h3",null,"PROPERTIES",-1)),s.value.length===1?(P(),E("div",it,[n("div",st,[t[25]||(t[25]=n("label",null,"TYPE",-1)),n("span",ot,O(s.value[0].type.toUpperCase()),1)]),n("div",ut,[t[26]||(t[26]=n("label",null,"POSITION X / Y",-1)),n("div",rt,[M(n("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=a=>s.value[0].x=a)},null,512),[[S,s.value[0].x,void 0,{number:!0}]]),M(n("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=a=>s.value[0].y=a)},null,512),[[S,s.value[0].y,void 0,{number:!0}]])])]),n("div",dt,[t[27]||(t[27]=n("label",null,"SIZE W / H",-1)),n("div",vt,[M(n("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=a=>s.value[0].width=a)},null,512),[[S,s.value[0].width,void 0,{number:!0}]]),M(n("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=a=>s.value[0].height=a)},null,512),[[S,s.value[0].height,void 0,{number:!0}]])])]),"angle"in s.value[0]?(P(),E("div",ht,[t[28]||(t[28]=n("label",null,"ROTATION (DEG)",-1)),n("div",ft,[n("button",{onClick:t[8]||(t[8]=a=>ne(-45)),class:"rot-btn"},"â†º -45Â°"),n("button",{onClick:t[9]||(t[9]=a=>ne(45)),class:"rot-btn"},"45Â° â†»")]),M(n("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=a=>s.value[0].angle=a)},null,512),[[S,s.value[0].angle,void 0,{number:!0}]]),M(n("input",{type:"range",min:"0",max:"360","onUpdate:modelValue":t[11]||(t[11]=a=>s.value[0].angle=a)},null,512),[[S,s.value[0].angle,void 0,{number:!0}]])])):W("",!0),"movement"in s.value[0]?(P(),E("div",ct,[t[33]||(t[33]=n("label",null,"MOVEMENT",-1)),s.value[0].movement?M((P(),E("select",{key:0,"onUpdate:modelValue":t[12]||(t[12]=a=>s.value[0].movement.type=a)},[...t[29]||(t[29]=[n("option",{value:"none"},"NONE",-1),n("option",{value:"updown"},"UP-DOWN BOUNCE",-1),n("option",{value:"rotate"},"CONTINUOUS ROTATE",-1)])],512)),[[Ae,s.value[0].movement.type]]):W("",!0),s.value[0].movement&&s.value[0].movement.type!=="none"?(P(),E("div",pt,[t[30]||(t[30]=n("label",null,"SPEED",-1)),M(n("input",{type:"number",step:"0.1","onUpdate:modelValue":t[13]||(t[13]=a=>s.value[0].movement.speed=a)},null,512),[[S,s.value[0].movement.speed,void 0,{number:!0}]]),t[31]||(t[31]=n("label",null,"RANGE",-1)),M(n("input",{type:"number","onUpdate:modelValue":t[14]||(t[14]=a=>s.value[0].movement.range=a)},null,512),[[S,s.value[0].movement.range,void 0,{number:!0}]]),t[32]||(t[32]=n("label",null,"PHASE OFFSET",-1)),M(n("input",{type:"number",step:"0.1","onUpdate:modelValue":t[15]||(t[15]=a=>s.value[0].movement.phase=a)},null,512),[[S,s.value[0].movement.phase,void 0,{number:!0}]])])):W("",!0)])):W("",!0),n("button",{onClick:G,class:"delete-btn"},"DELETE OBJECT")])):s.value.length>1?(P(),E("div",mt,[n("div",gt,[t[34]||(t[34]=n("label",null,"MULTIPLE SELECTION",-1)),n("span",yt,O(s.value.length)+" OBJECTS",1)]),n("button",{onClick:G,class:"delete-btn"},"DELETE ALL")])):(P(),E("div",wt," SELECT OBJECTS TO MODIFY ")),n("div",xt,[t[35]||(t[35]=n("h3",null,"LEVEL CONFIG",-1)),t[36]||(t[36]=n("label",null,"TOTAL DURATION (S)",-1)),M(n("input",{type:"number","onUpdate:modelValue":t[16]||(t[16]=a=>u.value.duration=a),onChange:te},null,544),[[S,u.value.duration,void 0,{number:!0}]]),t[37]||(t[37]=n("label",null,"DIFFICULTY",-1)),M(n("input",{type:"number","onUpdate:modelValue":t[17]||(t[17]=a=>u.value.difficulty=a)},null,512),[[S,u.value.difficulty,void 0,{number:!0}]])]),n("div",Mt,[t[39]||(t[39]=n("h3",null,"AUDIO CONFIG",-1)),t[40]||(t[40]=n("label",null,"BPM",-1)),M(n("input",{type:"number","onUpdate:modelValue":t[18]||(t[18]=a=>u.value.bpm=a)},null,512),[[S,u.value.bpm,void 0,{number:!0}]]),t[41]||(t[41]=n("label",null,"MEASURE LENGTH (S)",-1)),M(n("input",{type:"number",step:"0.1","onUpdate:modelValue":t[19]||(t[19]=a=>u.value.measureLength=a)},null,512),[[S,u.value.measureLength,void 0,{number:!0}]]),n("div",kt,[t[38]||(t[38]=n("label",null,"AUDIO FILE",-1)),n("button",{onClick:Se,class:"upload-btn"},O(u.value.audioData?"AUDIO LOADED":"UPLOAD MP3"),1),n("input",{type:"file",ref_key:"audioInputRef",ref:Q,accept:"audio/*",style:{display:"none"},onChange:Te},null,544),u.value.audioData?(P(),E("p",St,"Audio embedded in map data")):W("",!0)])])])])]))}}),_t=Le(Tt,[["__scopeId","data-v-280064ae"]]);export{_t as default};
