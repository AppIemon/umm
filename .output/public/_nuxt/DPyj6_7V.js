import{e as Ue,r as u,h as ye,j as He,D as Fe,i as ze,c as g,a as o,k as M,n as Ce,t as T,m as b,p as $e,v as qe,o as m}from"./CeYHdBDP.js";import{G as Ke}from"./DQ3TTau0.js";import{_ as je}from"./DlAUqK2U.js";const Je={class:"game-wrapper"},Ze={class:"game-container"},Qe={class:"hud"},be={class:"hud-top-left"},et={class:"game-actions"},tt=["disabled"],at={class:"title-container"},lt={class:"progress-bar-container"},it={class:"progress-text"},ot={class:"score-container"},st={class:"score-val"},nt={class:"speed-indicator"},rt={key:0,class:"mini-badge"},ut={key:1,class:"autoplay-badge"},ct={key:0,class:"status-overlay fail"},dt={class:"status-content"},vt={key:0,class:"new-best-text"},ft={class:"status-sub"},ht={class:"status-stats"},yt={key:1,class:"status-overlay win"},pt={class:"status-content"},gt={class:"status-stats"},mt={key:0,class:"rating-vote pointer-events-auto"},wt={class:"rating-controls"},xt={class:"rating-value"},Pt={key:1,class:"rating-done"},Mt={key:2,class:"overlay countdown-overlay"},St={class:"countdown-text"},Tt={key:3,class:"validation-status"},kt={class:"mini-progress"},Ct={key:4,class:"controls-hint"},_e=.1,_t=Ue({__name:"GameCanvas",props:{audioBuffer:{},obstacles:{},sections:{},autoRetry:{type:Boolean},loadMap:{},isViewOnly:{type:Boolean},multiplayerMode:{type:Boolean},difficulty:{},opponentY:{},opponentProgress:{}},emits:["retry","exit","complete","map-ready","progress-update","record-update"],setup(O,{emit:Ae}){const r=O,B=Ae,L=u(null),a=u(new Ke),w=u(!1),R=u(!1),k=u(0),D=u(0),K=u(""),A=u(0),V=u(null),pe=u(0),ee=u(!1),ge=u(!1),G=u(r.difficulty||10),te=u(!1),ae=u(!1),X=u(0),le=u(!1),j=u(15),J=u(!1),Ie=async()=>{if(!(!r.loadMap?._id||J.value))try{await $fetch(`/api/maps/${r.loadMap._id}/rate`,{method:"POST",body:{rating:j.value}}),J.value=!0}catch{alert("Failed to submit rating.")}},_=u(0),Z=u(!1),ie=u(0),C=u(!1);let oe=null;const se=u(360),ne=u(0);let y=null,f=null,me,re=0;const S=u(!1),Be=ye(()=>{const e=a.value.speedMultiplier;return e<.6?"#aa5500":e<.8?"#ff8800":e<1.1?"#4488ff":e<1.5?"#44ff44":e<1.8?"#ff44ff":"#ff4444"}),Re=ye(()=>{const e=a.value.speedMultiplier;return e<.6?"0.25x":e<.8?"0.5x":e<1.1?"1x":e<1.5?"2x":e<1.8?"3x":"4x"});ye(()=>G.value<8?"EASY":G.value<16?"NORMAL":G.value<24?"HARD":"IMPOSSIBLE");const W=()=>{if(!r.audioBuffer||!L.value)return;ue(),y||(y=new(window.AudioContext||window.webkitAudioContext)),y.state==="suspended"&&y.resume();const e=r.multiplayerMode?!1:a.value.isAutoplay;a.value.setMapConfig({density:1,portalFrequency:.15,difficulty:G.value}),a.value.reset(),a.value.isAutoplay=e,te.value=e,r.loadMap?(a.value.loadMapData(r.loadMap),G.value=r.loadMap.difficulty,C.value=!0,r.loadMap.bestScore?X.value=Math.min(100,r.loadMap.bestScore/10):X.value=0):(a.value.generateMap(r.obstacles,r.sections,r.audioBuffer.duration,void 0,!1),we()),w.value=!1,R.value=!1,K.value="",A.value=0,D.value=0,k.value=0,ee.value=!1,B("progress-update",{progress:0,ghostProgress:0}),ce(),Ge(),pe.value++},Ee=()=>{ae.value||(B("map-ready",{difficulty:G.value,engineObstacles:a.value.obstacles,enginePortals:a.value.portals,autoplayLog:a.value.autoplayLog,duration:r.audioBuffer.duration}),ae.value=!0)},Oe=()=>{Ee()},we=async()=>{if(!r.multiplayerMode){if(a.value.autoplayLog.length>0){C.value=!0;return}C.value=!1,Z.value=!0,ie.value=0;for(let e=0;;e++)try{if(e>0&&(console.log(`[Validation] Retry ${e+1}: Regenerating map with updated offsets...`),a.value.generateMap(r.obstacles,r.sections,r.audioBuffer.duration,void 0,!1,e)),await a.value.computeAutoplayLogAsync(a.value.playerX,a.value.playerY,d=>{ie.value=d*100})){console.log(`[Validation] Path found on Attempt ${e+1}!`),C.value=!0;break}else if(e>100){console.error("[Validation] Safeguard triggered: Stopped after 100 failed retries.");break}}catch(i){console.error("Background validation error:",i);break}Z.value=!1}},Le=async()=>{if(!r.multiplayerMode&&C.value){if(te.value=!0,a.value.isAutoplay=!0,a.value.autoplayLog.length>0){W();return}await we(),C.value&&W()}},Ge=()=>{V.value="GO!",setTimeout(()=>{V.value=null,Xe()},400)},Xe=()=>{if(!y||!r.audioBuffer)return;f=y.createBufferSource(),f.buffer=r.audioBuffer,f.connect(y.destination),f.onended=()=>{!w.value&&S.value&&xe()};const e=y.currentTime+.05;f.start(e),a.value.isPlaying=!0,a.value.startTime=e,S.value=!0,re=y.currentTime,Pe()},ue=()=>{if(S.value=!1,oe&&clearTimeout(oe),f){try{f.stop()}catch{}f.disconnect(),f=null}if(y){try{y.close()}catch{}y=null}cancelAnimationFrame(me)},N=e=>{e&&e.preventDefault(),!(!S.value||a.value.isAutoplay)&&a.value.setHolding(!0)},U=e=>{e&&e.preventDefault(),!a.value.isAutoplay&&a.value.setHolding(!1)},Ye=()=>{if(w.value=!0,K.value=a.value.failReason||"CRASHED",A.value=a.value.getProgress(),S.value=!1,A.value>X.value?(X.value=A.value,le.value=!0):le.value=!1,f)try{f.stop()}catch{}B("record-update",{score:k.value,progress:D.value});const e=()=>{w.value&&(ce(),requestAnimationFrame(e))};e(),oe=setTimeout(()=>{w.value&&W()},3e3)},xe=()=>{if(R.value=!0,S.value=!1,k.value=Math.floor(k.value+1e3),A.value=100,f)try{f.stop()}catch{}B("record-update",{score:k.value,progress:100}),B("complete",{score:k.value})},Pe=()=>{!S.value&&!w.value&&!R.value||(De(),ce(),S.value&&(me=requestAnimationFrame(Pe)))},De=()=>{if(!y)return;const e=y.currentTime,i=e-a.value.startTime;let d=e-re;if(re=e,d>.1&&(d=.1),d<0&&(d=0),a.value.update(d,i),_.value=i,k.value=a.value.score,D.value=a.value.progress,ee.value=a.value.isGravityInverted,ge.value=a.value.isMini,a.value.isDead&&!w.value?Ye():!a.value.isPlaying&&S.value&&!w.value&&!R.value&&xe(),r.multiplayerMode&&a.value.totalLength>0){const Y=a.value.playerX/a.value.totalLength*100;B("progress-update",{progress:Math.min(100,Y),y:a.value.playerY,ghostProgress:r.opponentProgress||0});const H=r.opponentY!==void 0?r.opponentY:360,de=r.opponentProgress||0;se.value+=(H-se.value)*_e,ne.value+=(de-ne.value)*_e}},ce=()=>{const e=L.value?.getContext("2d");if(!e||!L.value)return;const i=L.value.width,d=L.value.height,Y=e.createLinearGradient(0,0,0,d);Y.addColorStop(0,"#0a0a1a"),Y.addColorStop(.5,"#151530"),Y.addColorStop(1,"#0a0a1a"),e.fillStyle=Y,e.fillRect(0,0,i,d),e.save(),e.strokeStyle="rgba(80, 80, 180, 0.08)",e.lineWidth=1;const H=40,de=-a.value.cameraX%H;for(let t=de;t<i;t+=H)e.beginPath(),e.moveTo(t,0),e.lineTo(t,d),e.stroke();for(let t=0;t<d;t+=H)e.beginPath(),e.moveTo(0,t),e.lineTo(i,t),e.stroke();e.restore(),e.save(),e.translate(-a.value.cameraX,0);const ve=a.value.isGravityInverted?"#ffff00":"#ff00ff",fe=a.value.isGravityInverted?"#ffff00":"#00ffff";if(e.fillStyle=ve,e.globalAlpha=.15,e.fillRect(a.value.cameraX,0,i,a.value.minY),e.globalAlpha=1,e.fillStyle=fe,e.globalAlpha=.15,e.fillRect(a.value.cameraX,a.value.maxY,i,d-a.value.maxY),e.globalAlpha=1,e.strokeStyle=ve,e.lineWidth=3,e.shadowBlur=15,e.shadowColor=ve,e.beginPath(),e.moveTo(a.value.cameraX,a.value.minY),e.lineTo(a.value.cameraX+i,a.value.minY),e.stroke(),e.strokeStyle=fe,e.shadowColor=fe,e.beginPath(),e.moveTo(a.value.cameraX,a.value.maxY),e.lineTo(a.value.cameraX+i,a.value.maxY),e.stroke(),e.shadowBlur=0,a.value.portals.forEach(t=>{if(t.x+t.width<a.value.cameraX-50||t.x>a.value.cameraX+i+50)return;e.save();const l=a.value.getPortalColor(t.type),n=a.value.getPortalSymbol(t.type),s=t.type==="mini_pink"||t.type==="mini_green";if(e.globalAlpha=t.activated?.3:1,e.fillStyle=l,e.shadowBlur=25,e.shadowColor=l,s){const p=t.x+t.width/2,c=t.y+t.height/2,x=t.width/2,P=t.height/2,v=8;e.beginPath();for(let h=0;h<=v*2;h++){const E=Math.PI*2*h/(v*2)-Math.PI/2,z=h%2===0?1:.6,$=p+Math.cos(E)*x*z,q=c+Math.sin(E)*P*z;h===0?e.moveTo($,q):e.lineTo($,q)}e.closePath(),e.fill(),e.fillStyle="rgba(255,255,255,0.3)",e.beginPath();for(let h=0;h<=v*2;h++){const E=Math.PI*2*h/(v*2)-Math.PI/2,z=h%2===0?.6:.35,$=p+Math.cos(E)*x*z,q=c+Math.sin(E)*P*z;h===0?e.moveTo($,q):e.lineTo($,q)}e.closePath(),e.fill()}else e.beginPath(),e.roundRect(t.x,t.y,t.width,t.height,12),e.fill(),e.fillStyle="rgba(255,255,255,0.4)",e.beginPath(),e.roundRect(t.x+6,t.y+6,t.width-12,t.height-12,8),e.fill();e.shadowBlur=0,e.fillStyle="#000",e.font="bold 18px Arial",e.textAlign="center",e.textBaseline="middle",e.fillText(n,t.x+t.width/2,t.y+t.height/2),e.restore()}),a.value.obstacles.forEach(t=>{if(!(t.x+t.width<a.value.cameraX-50)&&!(t.x>a.value.cameraX+i+50)){if(e.save(),t.type==="spike"||t.type==="mini_spike"){const l=t.type==="mini_spike";e.fillStyle=l?"#ff6666":"#ff4444",e.shadowBlur=l?8:12,e.shadowColor="#ff4444",e.beginPath(),t.y>300?(e.moveTo(t.x,t.y+t.height),e.lineTo(t.x+t.width/2,t.y),e.lineTo(t.x+t.width,t.y+t.height)):(e.moveTo(t.x,t.y),e.lineTo(t.x+t.width/2,t.y+t.height),e.lineTo(t.x+t.width,t.y)),e.closePath(),e.fill()}else if(t.type==="block")e.save(),t.angle!==void 0&&t.angle!==0&&(e.translate(t.x+t.width/2,t.y+t.height/2),e.rotate(t.angle*Math.PI/180),e.translate(-(t.x+t.width/2),-(t.y+t.height/2))),e.fillStyle="#444",e.shadowBlur=5,e.shadowColor="#666",e.fillRect(t.x,t.y,t.width,t.height),e.fillStyle="#555",e.fillRect(t.x+2,t.y+2,t.width-4,t.height-4),e.restore();else if(t.type==="saw"){const l=t.x+t.width/2,n=t.y+t.height/2,s=t.width/2;e.fillStyle="#ffaa00",e.shadowBlur=20,e.shadowColor="#ffaa00",e.beginPath(),e.arc(l,n,s,0,Math.PI*2),e.fill(),e.fillStyle="#ff6600";const p=10,c=_.value*8;for(let x=0;x<p;x++){const P=Math.PI*2*x/p+c,v=l+Math.cos(P)*s*.75,h=n+Math.sin(P)*s*.75;e.beginPath(),e.arc(v,h,s*.15,0,Math.PI*2),e.fill()}e.fillStyle="#cc8800",e.beginPath(),e.arc(l,n,s*.25,0,Math.PI*2),e.fill()}else if(t.type==="spike_ball"){const l=t.x+t.width/2,n=t.y+t.height/2,s=t.width/2;e.fillStyle="#666",e.shadowBlur=15,e.shadowColor="#444";const p=8,c=_.value*3;e.fillStyle="#444";for(let P=0;P<p;P++){const v=Math.PI*2*P/p+c;e.beginPath();const h=l+Math.cos(v)*s*1.2,E=n+Math.sin(v)*s*1.2;e.moveTo(l+Math.cos(v-.2)*s*.8,n+Math.sin(v-.2)*s*.8),e.lineTo(h,E),e.lineTo(l+Math.cos(v+.2)*s*.8,n+Math.sin(v+.2)*s*.8),e.fill()}const x=e.createRadialGradient(l-s*.3,n-s*.3,s*.1,l,n,s);x.addColorStop(0,"#888"),x.addColorStop(1,"#222"),e.fillStyle=x,e.beginPath(),e.arc(l,n,s*.8,0,Math.PI*2),e.fill()}else if(t.type==="laser"){const l=t.y+t.height/2,n=Math.sin(_.value*15)*5+10;e.strokeStyle="#ff3333",e.lineWidth=2,e.shadowBlur=Math.max(0,n),e.shadowColor="#ff0000",e.beginPath(),e.moveTo(t.x,l),e.lineTo(t.x+t.width,l),e.stroke(),e.strokeStyle="#ffffff",e.lineWidth=1,e.shadowBlur=0,e.beginPath(),e.moveTo(t.x,l),e.lineTo(t.x+t.width,l),e.stroke(),e.fillStyle="#777",e.fillRect(t.x,t.y,8,t.height),e.fillRect(t.x+t.width-8,t.y,8,t.height)}else if(t.type==="v_laser"){const l=t.x+t.width/2,n=Math.sin(_.value*15)*5+10;e.strokeStyle="#ff3333",e.lineWidth=2,e.shadowBlur=Math.max(0,n),e.shadowColor="#ff0000",e.beginPath(),e.moveTo(l,t.y),e.lineTo(l,t.y+t.height),e.stroke(),e.strokeStyle="#ffffff",e.lineWidth=1,e.shadowBlur=0,e.beginPath(),e.moveTo(l,t.y),e.lineTo(l,t.y+t.height),e.stroke(),e.fillStyle="#777",e.fillRect(t.x,t.y,t.width,8),e.fillRect(t.x,t.y+t.height-8,t.width,8)}else if(t.type==="mine"){const l=t.x+t.width/2,n=t.y+t.height/2,s=t.width/2,p=Math.sin(_.value*10)*.1+.9;e.fillStyle="#ff3333",e.shadowBlur=10,e.shadowColor="#ff0000",e.beginPath();for(let c=0;c<6;c++){const x=Math.PI/3*c+_.value*2,P=l+Math.cos(x)*s*p,v=n+Math.sin(x)*s*p;c===0?e.moveTo(P,v):e.lineTo(P,v)}e.closePath(),e.fill(),e.fillStyle="#550000",e.beginPath(),e.arc(l,n,s*.4,0,Math.PI*2),e.fill()}else if(t.type==="orb"){const l=t.x+t.width/2,n=t.y+t.height/2,s=t.width/2,p=Math.sin(_.value*5)*.1+1,c=e.createRadialGradient(l,n,s*.1,l,n,s*p);c.addColorStop(0,"#ffffff"),c.addColorStop(.4,"#aa44ff"),c.addColorStop(.8,"#4400cc"),c.addColorStop(1,"rgba(68, 0, 204, 0)"),e.fillStyle=c,e.globalCompositeOperation="lighter",e.beginPath(),e.arc(l,n,s*p,0,Math.PI*2),e.fill(),e.globalCompositeOperation="source-over"}e.restore()}}),a.value.isAutoplay&&a.value.aiPredictedPath.length>1){e.save(),e.beginPath(),e.moveTo(a.value.aiPredictedPath[0].x,a.value.aiPredictedPath[0].y);for(let t=1;t<a.value.aiPredictedPath.length;t++)e.lineTo(a.value.aiPredictedPath[t].x,a.value.aiPredictedPath[t].y);e.strokeStyle="rgba(0, 255, 255, 0.15)",e.lineWidth=12,e.lineCap="round",e.lineJoin="round",e.stroke(),e.strokeStyle="rgba(0, 255, 255, 0.6)",e.lineWidth=3,e.stroke(),e.restore()}if(a.value.trail.length>1){e.beginPath(),e.moveTo(a.value.trail[0].x,a.value.trail[0].y);for(let l=1;l<a.value.trail.length;l++){const n=a.value.trail[l];n&&e.lineTo(n.x,n.y)}const t=a.value.isGravityInverted?"rgba(255, 255, 0, 0.6)":"rgba(0, 255, 255, 0.6)";e.strokeStyle=t,e.lineWidth=14,e.lineCap="round",e.lineJoin="round",e.shadowBlur=20,e.shadowColor=a.value.isGravityInverted?"#ffff00":"#00ffff",e.stroke(),e.shadowBlur=0}if(r.multiplayerMode){const l=ne.value/100*a.value.totalLength,n=se.value;e.save(),e.fillStyle="rgba(255, 0, 255, 0.8)",e.shadowBlur=20,e.shadowColor="#ff00ff";const s=35;e.translate(l,n),e.beginPath(),e.moveTo(s/2,0),e.lineTo(-s/3,-s/3),e.lineTo(-s/6,0),e.lineTo(-s/3,s/3),e.closePath(),e.fill(),e.fillStyle="white",e.font="bold 16px Outfit",e.textAlign="center",e.fillText("OPPONENT",0,-30),e.restore()}a.value.particles.forEach(t=>{e.fillStyle=t.color,e.globalAlpha=Math.max(0,t.life),e.beginPath(),e.arc(t.x,t.y,4,0,Math.PI*2),e.fill()}),e.globalAlpha=1;const Se=a.value.playerX,Te=a.value.playerY,F=a.value.playerSize,ke=a.value.isHolding?-1:1,Ve=a.value.isGravityInverted?-ke:ke,We=Math.atan2(Ve,1);e.save(),e.translate(Se,Te),e.rotate(We);const he=a.value.isGravityInverted?"#ffff00":a.value.isHolding?"#00ffff":"#ff00ff";e.shadowBlur=25,e.shadowColor=he;const I=F*1.2;e.beginPath(),e.moveTo(I,0),e.lineTo(-I*.5,-I*.6),e.lineTo(-I*.15,0),e.lineTo(-I*.5,I*.6),e.closePath();const Q=e.createLinearGradient(-I,0,I,0);Q.addColorStop(0,he),Q.addColorStop(.5,"#ffffff"),Q.addColorStop(1,he),e.fillStyle=Q,e.fill(),e.strokeStyle="#fff",e.lineWidth=1.5,e.stroke(),e.restore(),e.shadowBlur=0,a.value.showHitboxes&&(e.strokeStyle="#00ff00",e.lineWidth=2,e.strokeRect(Se-F,Te-F,F*2,F*2),e.strokeStyle="#ff0000",a.value.obstacles.forEach(t=>{if(t.x+t.width<a.value.cameraX-50||t.x>a.value.cameraX+i+100)return;const l=a.value.getObstacleStateAt(t,_.value),n=l.y,s=l.angle;e.save(),s!==0?(e.translate(t.x+t.width/2,n+t.height/2),e.rotate(s*Math.PI/180),e.strokeRect(-t.width/2,-t.height/2,t.width,t.height)):e.strokeRect(t.x,n,t.width,t.height),e.restore()})),e.restore()},Me=()=>{if(document.hidden&&S.value){if(f)try{f.stop()}catch{}S.value=!1,w.value=!0,K.value="Ìè¨Ïª§Ïä§ Ïù¥ÌÉàÎ°ú Ï§ëÎã®Îê®"}};return He(()=>{window.addEventListener("keydown",e=>{e.repeat||(e.code==="Space"||e.code==="ArrowUp"||e.code==="KeyW")&&N(e)}),window.addEventListener("keyup",e=>{(e.code==="Space"||e.code==="ArrowUp"||e.code==="KeyW")&&U(e)}),window.addEventListener("mousedown",N),window.addEventListener("mouseup",U),window.addEventListener("touchstart",N,{passive:!1}),window.addEventListener("touchend",U,{passive:!1}),document.addEventListener("visibilitychange",Me),W()}),Fe(()=>{ue(),window.removeEventListener("mousedown",N),window.removeEventListener("mouseup",U),window.removeEventListener("touchstart",N),window.removeEventListener("touchend",U),document.removeEventListener("visibilitychange",Me)}),ze(()=>r.audioBuffer,()=>{ue(),W()}),(e,i)=>(m(),g("div",Je,[o("div",Ze,[o("canvas",{ref_key:"canvas",ref:L,width:"1280",height:"720"},null,512),o("div",Qe,[o("div",be,[o("div",et,[O.multiplayerMode?M("",!0):(m(),g("button",{key:0,onClick:Le,class:Ce(["hud-action-btn tutorial",{disabled:!C.value}]),disabled:!C.value},T(C.value?"TUTORIAL":"VALIDATING..."),11,tt)),!O.multiplayerMode&&!O.loadMap&&C.value&&!ae.value?(m(),g("button",{key:1,onClick:Oe,class:"hud-action-btn save"}," SAVE MAP ")):M("",!0),o("button",{onClick:i[0]||(i[0]=d=>B("exit",{progress:A.value,score:k.value,outcome:w.value?"fail":"win"})),class:"hud-action-btn exit"},"ÎÇòÍ∞ÄÍ∏∞")]),o("div",at,[o("div",{class:Ce(["wave-icon",{inverted:ee.value}])},"‚ñ∂",2),i[2]||(i[2]=o("h1",{class:"game-title"},"ULTRA MUSIC MANIA",-1))]),o("div",lt,[o("div",{class:"progress-bar",style:b({width:D.value+"%"})},null,4),X.value>0?(m(),g("div",{key:0,class:"best-record-marker",style:b({left:X.value+"%"})},[...i[3]||(i[3]=[o("div",{class:"marker-line"},null,-1),o("span",{class:"marker-text"},"BEST",-1)])],4)):M("",!0),o("span",it,T(Math.floor(D.value))+"%",1)])]),o("div",ot,[i[4]||(i[4]=o("div",{class:"score-label"},"SCORE",-1)),o("div",st,T(Math.floor(k.value)),1)]),o("div",nt,[o("span",{style:b({color:Be.value})},T(Re.value),5),ge.value?(m(),g("span",rt,"MINI")):M("",!0),te.value?(m(),g("span",ut,"TUTORIAL MODE")):M("",!0)]),w.value?(m(),g("div",ct,[o("div",dt,[i[6]||(i[6]=o("h1",{class:"status-text fail"},"CRASHED",-1)),le.value?(m(),g("p",vt,"üéâ NEW BEST! "+T(A.value)+"%",1)):M("",!0),o("p",ft,T(K.value),1),o("div",ht,[o("span",null,T(A.value)+"% PROGRESS",1),i[5]||(i[5]=o("span",{class:"stat-divider"},"|",-1)),o("span",null,"ATTEMPT "+T(pe.value),1)])])])):M("",!0),R.value?(m(),g("div",yt,[o("div",pt,[i[8]||(i[8]=o("h1",{class:"status-text win"},"COMPLETE!",-1)),i[9]||(i[9]=o("p",{class:"status-sub"},"Î™®Îì† Ïû•Ïï†Î¨ºÏùÑ ÎèåÌååÌñàÏäµÎãàÎã§",-1)),o("div",gt,[o("span",null,"SCORE "+T(Math.floor(k.value)),1)]),O.loadMap&&O.loadMap._id&&!J.value?(m(),g("div",mt,[i[7]||(i[7]=o("p",{class:"rating-label"},"RATE THIS MAP (1-30)",-1)),o("div",wt,[$e(o("input",{type:"range",min:"1",max:"30","onUpdate:modelValue":i[1]||(i[1]=d=>j.value=d),class:"rating-slider"},null,512),[[qe,j.value,void 0,{number:!0}]]),o("span",xt,T(j.value),1)]),o("button",{onClick:Ie,class:"submit-rating-btn"},"SUBMIT VOTE")])):J.value?(m(),g("div",Pt," THANK YOU FOR VOTING! ")):M("",!0)])])):M("",!0),V.value?(m(),g("div",Mt,[o("div",St,T(V.value),1)])):M("",!0),Z.value&&!w.value&&!R.value?(m(),g("div",Tt,[i[10]||(i[10]=o("div",{class:"status-msg"},"OPTIMIZING MAP...",-1)),o("div",kt,[o("div",{class:"fill",style:b({width:ie.value+"%"})},null,4)])])):M("",!0),!V.value&&!w.value&&!R.value&&!Z.value?(m(),g("div",Ct,[...i[11]||(i[11]=[o("span",null,"ÌÅ¥Î¶≠/Ïä§ÌéòÏù¥Ïä§ Ïú†ÏßÄ = ÏúÑÎ°ú | Ìï¥Ï†ú = ÏïÑÎûòÎ°ú",-1)])])):M("",!0)])])]))}}),Rt=Object.assign(je(_t,[["__scopeId","data-v-7d9554b2"]]),{__name:"GameCanvas"});export{Rt as _};
