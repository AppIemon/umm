<template>
  <div class="guide-page">
    <div class="background-anim"></div>
    <div class="guide-container">
      <h1 class="page-title">GAME GUIDE</h1>
      
      <!-- Reuse the content structure from GameGuide but inline -->
      <div class="guide-card">
        <div class="step-image">
          <div v-if="currentStep === 0" class="demo-box input-demo">
            <div class="key-icon space">SPACE</div>
            <div class="key-icon mouse">CLICK</div>
            <p>ëˆ„ë¥´ê³  ìˆìœ¼ë©´ <strong>ìƒìŠ¹</strong><br>ë–¼ë©´ <strong>í•˜ê°•</strong></p>
          </div>

          <div v-if="currentStep === 1" class="demo-box portal-demo">
            <div class="portal-row">
              <span class="p-icon speed">>></span>
              <span>ì†ë„ ë³€í™”</span>
            </div>
            <div class="portal-row">
              <span class="p-icon gravity">âŸ³</span>
              <span>ì¤‘ë ¥ ë°˜ì „</span>
            </div>
            <div class="portal-row">
              <span class="p-icon mini">â—†</span>
              <span>ë¯¸ë‹ˆ ëª¨ë“œ</span>
            </div>
          </div>

          <div v-if="currentStep === 2" class="demo-box tips-demo">
            <div class="tip-item">âš¡ <strong>ë¶‰ì€ìƒ‰</strong>ì€ ì¥ì• ë¬¼ì…ë‹ˆë‹¤. í”¼í•˜ì„¸ìš”!</div>
            <div class="tip-item">ğŸµ <strong>ë°•ì</strong>ì— ë§ì¶° ì›€ì§ì´ëŠ”ê²Œ ì¤‘ìš”í•©ë‹ˆë‹¤.</div>
            <div class="tip-item">â˜… <strong>100%</strong> ì™„ì£¼ì— ë„ì „í•˜ì„¸ìš”!</div>
          </div>
        </div>

        <div class="step-text">
          <h3>{{ steps[currentStep].title }}</h3>
          <p>{{ steps[currentStep].desc }}</p>
        </div>

        <div class="guide-nav">
           <button 
             v-for="(s, i) in steps" 
             :key="i"
             class="nav-dot"
             :class="{ active: i === currentStep }"
             @click="currentStep = i"
           >
             {{ s.title }}
           </button>
        </div>
      </div>

       <div class="actions">
         <NuxtLink to="/play" class="action-btn">PLAY NOW</NuxtLink>
       </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';

const currentStep = ref(0);
const steps = [
  {
    title: 'ê¸°ë³¸ ì¡°ì‘ (CONTROLS)',
    desc: 'ìŠ¤í˜ì´ìŠ¤ë°”ë‚˜ ë§ˆìš°ìŠ¤ ì™¼ìª½ ë²„íŠ¼ì„ ê¸¸ê²Œ ëˆ„ë¥´ë©´ ìœ„ë¡œ ì˜¬ë¼ê°€ê³ , ë–¼ë©´ ì•„ë˜ë¡œ ë‚´ë ¤ì˜µë‹ˆë‹¤. íŒŒë„ì²˜ëŸ¼ ë¦¬ë“¬ì„ íƒ€ë³´ì„¸ìš”!'
  },
  {
    title: 'í¬íƒˆ ì‹œìŠ¤í…œ (PORTALS)',
    desc: 'ë‹¤ì–‘í•œ í¬íƒˆì„ í†µê³¼í•˜ë©´ ì†ë„ê°€ ë¹¨ë¼ì§€ê±°ë‚˜, ì¤‘ë ¥ì´ ë°˜ëŒ€ë¡œ ë°”ë€Œê±°ë‚˜, ê¸°ì²´ê°€ ì‘ì•„ì§‘ë‹ˆë‹¤. ë³€í™”ì— ë¹ ë¥´ê²Œ ì ì‘í•˜ì„¸ìš”!'
  },
  {
    title: 'ìƒì¡´ ì „ëµ (STRATEGY)',
    desc: 'ìŒì•…ì˜ ë¹„íŠ¸ì— ë§ì¶° ì¥ì• ë¬¼ì´ ë“±ì¥í•©ë‹ˆë‹¤. ëˆˆìœ¼ë¡œë§Œ ë³´ì§€ ë§ê³ , ê·€ë¡œ ë“¤ìœ¼ë©° ë¦¬ë“¬ì„ íƒ€ë©´ ë” ì‰½ê²Œ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
  }
];
</script>

<style scoped>
@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;700;900&display=swap');

.guide-page {
  min-height: 100vh;
  background: #050510;
  color: white;
  font-family: 'Outfit', sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 2rem 2rem 2rem 250px; /* Nav width */
  position: relative;
  overflow: hidden;
}

.background-anim {
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  background: radial-gradient(circle at 70% 30%, #1a1a3a 0%, #000 100%);
  z-index: 0;
}

.guide-container {
  z-index: 10;
  width: 100%;
  max-width: 800px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2rem;
}

.page-title {
  font-size: 3rem;
  font-weight: 900;
  letter-spacing: 4px;
  background: linear-gradient(135deg, #00ffff 0%, #ff00ff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin: 0;
  text-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
}

.guide-card {
  width: 100%;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 20px;
  padding: 3rem;
  box-shadow: 0 0 60px rgba(0,0,0,0.6);
  backdrop-filter: blur(10px);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2rem;
  min-height: 500px;
}

.step-image {
  width: 100%;
}

.demo-box {
  width: 100%;
  height: 200px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 1.5rem;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.input-demo { flex-direction: row; }

.key-icon {
  padding: 1rem 1.5rem;
  border: 2px solid #fff;
  border-radius: 8px;
  font-weight: bold;
  font-size: 1.5rem;
  box-shadow: 0 4px 0 #fff;
  transform: translateY(-4px);
  background: rgba(255, 255, 255, 0.1);
}

.portal-demo {
  color: white;
  align-items: flex-start;
  padding: 0 3rem;
  justify-content: center;
}

.portal-row {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  font-size: 1.3rem;
}

.p-icon {
  display: inline-flex;
  width: 40px; height: 40px;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  font-weight: bold;
}

.p-icon.speed { color: #44ff44; border: 1px solid #44ff44; }
.p-icon.gravity { color: #ffff00; border: 1px solid #ffff00; }
.p-icon.mini { color: #ff66cc; border: 1px solid #ff66cc; font-size: 1rem; }

.tips-demo {
  align-items: flex-start;
  padding: 0 3rem;
  font-size: 1.2rem;
  line-height: 1.8;
  justify-content: center;
}

.step-text {
  text-align: center;
  max-width: 600px;
}

.step-text h3 {
  color: #00ffff;
  font-size: 1.8rem;
  margin-bottom: 1rem;
}

.step-text p {
  color: #ccc;
  font-size: 1.1rem;
  line-height: 1.6;
}

.guide-nav {
  display: flex;
  gap: 1rem;
  margin-top: auto;
}

.nav-dot {
  padding: 0.8rem 1.5rem;
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: #666;
  border-radius: 30px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.3s;
}

.nav-dot.active {
  background: #00ffff;
  color: #000;
  border-color: #00ffff;
  box-shadow: 0 0 20px rgba(0, 255, 255, 0.4);
}

.nav-dot:hover:not(.active) {
  border-color: #fff;
  color: #fff;
}

.actions {
  margin-top: 1rem;
}

.action-btn {
  padding: 1rem 3rem;
  background: linear-gradient(90deg, #00ffff, #ff00ff);
  color: black;
  font-weight: 900;
  font-size: 1.2rem;
  text-decoration: none;
  border-radius: 50px;
  box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
  transition: transform 0.2s;
  display: inline-block;
}

.action-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 50px rgba(0, 255, 255, 0.5);
}
</style>
